{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <https://www.gnu.org/licenses/>.
}}
{{!
    @template   local_deleteoldcourses/reports
    @author     2022 Juan Felipe Orozco Escobar <juanfe.ores@gmail.com>

    The purpose of this template is to render reports about the configuration, enqueeing, and deletion of courses.

    Context variables required for this template:
    * course_creation_date                  Course creation criteria to enqueue
    * course_last_modification_date         Course last modification criteria to enqueue
    * excluded_categories                   Excluded categories to avoid enqueueing
    * manually_enqueued_courses             Total number of courses that were manually enqueued (functionality removed since Moodle 4.x)
    * automatically_enqueued_courses        Total number of courses that were automatically enqueued
    * total_enqueued_courses                Total number of enqueued courses
    * total_deleted_courses                 Total number of deleted courses

    Example context (json):
    {
        "course_creation_date" => '31/12/2010 23:59:59',
        "course_last_modification_date" => '31/12/2009 23:59:59',
        "excluded_categories" => 'Cursos Presenciales',
        "manually_enqueued_courses" => '10',
        "automatically_enqueued_courses" => '25',
        "total_enqueued_courses" => '35',
        "total_deleted_courses" => '454'
    }
}}

<div>
    <div>
        <h2>{{#str}}reports_dashboard_heading, local_deleteoldcourses{{/str}}</h2>
    </div>
    <div class="row">
        <div class="column">
            <div>
                <p><b>{{#str}}deletion_criteria_desc, local_deleteoldcourses{{/str}}</b></p>
            </div>
            <table class="reports-table">
                <tr>
                    <td><b>{{#str}}course_creation_date, local_deleteoldcourses{{/str}}</b></td>
                    <td>{{course_creation_date}}</td>
                </tr>
                <tr>
                    <td><b>{{#str}}course_last_modification_date, local_deleteoldcourses{{/str}}</b></td>
                    <td>{{course_last_modification_date}}</td>
                </tr>
                <tr>
                    <td><b>{{#str}}excluded_categories, local_deleteoldcourses{{/str}}</b></td>
                    <td>{{excluded_categories}}</td>
                </tr>
            </table>
        </div>
        <div class="column">
            <div>
                <p><b>{{#str}}enqueued_courses_desc, local_deleteoldcourses{{/str}}</b></p>
            </div>
            <table class="reports-table">
                <tr>
                    <td><b>{{#str}}manually_enqueued_courses, local_deleteoldcourses{{/str}}</b></td>
                    <td>{{manually_enqueued_courses}}</td>
                </tr>
                <tr>
                    <td><b>{{#str}}automatically_enqueued_courses, local_deleteoldcourses{{/str}}</b></td>
                    <td>{{automatically_enqueued_courses}}</td>
                </tr>
                <tr>
                    <td><b>{{#str}}total_enqueued_courses, local_deleteoldcourses{{/str}}</b></td>
                    <td>{{total_enqueued_courses}}</td>
                </tr>
            </table>
        </div>
        <div class="column">
            <div>
                <p><b>{{#str}}deleted_courses_desc, local_deleteoldcourses{{/str}}</b></p>
            </div>
            <table class="reports-table">
                <tr>
                    <td><b>{{#str}}total_deleted_courses, local_deleteoldcourses{{/str}}</b></td>
                    <td>{{total_deleted_courses}}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
